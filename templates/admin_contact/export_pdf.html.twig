<!DOCTYPE html>
<html lang="fr">
	<head>
		<meta charset="UTF-8">
		<title>Liste des Messages de Contact -
			{{ "now"|date("d/m/Y") }}</title>
		<style>
			@page {
				margin: 20px;
				size: A4 portrait;
			}
			body {
				font-family: 'Helvetica', 'Arial', sans-serif;
				font-size: 12px;
				color: #333;
				line-height: 1.5;
			}
			.header {
				text-align: center;
				margin-bottom: 20px;
				padding-bottom: 10px;
				border-bottom: 2px solid #2c3e50;
			}
			.header h1 {
				color: #2c3e50;
				font-size: 24px;
				margin-bottom: 5px;
			}
			.header .subtitle {
				color: #7f8c8d;
				font-size: 14px;
			}
			.logo {
				height: 60px;
				margin-bottom: 10px;
			}
			table {
				width: 100%;
				border-collapse: collapse;
				margin-top: 15px;
			}
			th {
				background-color: #2c3e50;
				color: white;
				padding: 8px;
				text-align: left;
				font-weight: 500;
			}
			td {
				padding: 8px;
				border-bottom: 1px solid #ddd;
				vertical-align: top;
			}
			tr:nth-child(even) {
				background-color: #f8f9fa;
			}
			.footer {
				margin-top: 20px;
				padding-top: 10px;
				border-top: 1px solid #ddd;
				font-size: 10px;
				text-align: center;
				color: #7f8c8d;
			}
			.message-cell {
				max-width: 250px;
				word-wrap: break-word;
			}
		</style>
	</head>
	<body>
		<div class="header">
			<h1>Liste des Messages de Contact</h1>
			<div class="subtitle">Généré le
				{{ "now"|date("d/m/Y à H:i") }}</div>
		</div>

		<table>
			<thead>
				<tr>
					<th style="width: 15%;">Nom</th>
					<th style="width: 20%;">Email</th>
					<th style="width: 15%;">Sujet</th>
					<th style="width: 35%;" class="message-cell">Message</th>
					<th style="width: 15%;">Date</th>
				</tr>
			</thead>
			<tbody>
				{% for contact in contacts %}
					<tr>
						<td>{{ contact.fullname }}</td>
						<td>{{ contact.email }}</td>
						<td>{{ contact.subject }}</td>
						<td class="message-cell">{{ contact.message }}</td>
						<td>{{ contact.createdAt|date("d/m/Y H:i") }}</td>
					</tr>
				{% else %}
					<tr>
						<td colspan="5" style="text-align: center; padding: 20px;">Aucun message à afficher</td>
					</tr>
				{% endfor %}
			</tbody>
		</table>

		<div class="footer">
			Document généré par le système de gestion -
			{{ app_name }}
		</div>
	</body>
</html>
